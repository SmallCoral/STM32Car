# STM32Car

## 项目概述
**STM32Car** 项目是一款基于 STM32 微控制器的智能小车系统。该系统集成了多种硬件组件和高级控制算法，可实现自动或半自动导航、避障以及精准电机控制。

---

## 功能特点
- **微控制器**：使用 STM32 微控制器，提供高效可靠的处理能力。
- **电机控制**：通过 PWM 信号实现直流电机的平稳精准操作。
- **传感器**：
  - MPU6050 用于加速度计和陀螺仪数据采集。
  - 红外传感器用于障碍物检测。
- **显示器**：通过 OLED 屏实时显示数据。
- **PID 算法**：确保运动控制的稳定性和准确性。
- **模式切换**：通过按键切换不同的工作模式。
- **可扩展性**：模块化代码结构，便于功能升级。

---

## 硬件需求
- **STM32 微控制器开发板**（如 STM32F103C8T6）
- **电机**：直流电机和 H 桥驱动模块
- **传感器**：
  - MPU6050 加速度计和陀螺仪模块
  - 红外传感器
- **OLED 显示器**：兼容 I2C 的 128x64 显示屏
- **电源**：为电机和微控制器提供电池供电
- **其他组件**：按键、电阻、电容和连接线

---

## 接线说明
### STM32 与硬件的连接
1. **电机驱动模块**
   - 驱动模块输入端接 STM32 的 PWM 输出引脚（如 TIM1_CH1、TIM1_CH2）。
   - 驱动模块的电源（VCC 和 GND）接电池的正负极。
   - 输出端连接到直流电机的正负极。

2. **MPU6050**
   - SDA 接 STM32 的 I2C 数据线（如 PB7）。
   - SCL 接 STM32 的 I2C 时钟线（如 PB6）。
   - VCC 接 3.3V 电源，GND 接地。

3. **红外传感器**
   - 数据输出端接 STM32 的 GPIO 引脚（如 PA0）。
   - VCC 接 5V 电源，GND 接地。

4. **OLED 显示屏**
   - SDA 接 STM32 的 I2C 数据线（如 PB9）。
   - SCL 接 STM32 的 I2C 时钟线（如 PB8）。
   - VCC 接 3.3V 或 5V 电源（根据显示屏规格），GND 接地。

5. **按键**
   - 一端接 STM32 的 GPIO 引脚（如 PA1）。
   - 另一端接地，通过上拉电阻实现稳定。

---

## 软件依赖
- **开发环境**：Keil MDK、STM32CubeIDE 或 PlatformIO
- **库文件**：
  - STM32 外设 HAL/LL 驱动库
  - MPU6050 和 OLED 的 I2C 通信库
- **编程语言**：C/C++

---

## 安装与配置
1. 克隆本项目：
   ```bash
   git clone https://github.com/SmallCoral/STM32Car.git
